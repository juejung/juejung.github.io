<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13. A simple OLG model &mdash; ComputationalEconomicsLectures 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ComputationalEconomicsLectures 1.0 documentation" href="index.html" />
    <link rel="next" title="14. An OLG model with labor-leisure choice" href="Slides_OLG_II.html" />
    <link rel="prev" title="12. The cake eating problem" href="Slides_Cake.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Slides_OLG_II.html" title="14. An OLG model with labor-leisure choice"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Slides_Cake.html" title="12. The cake eating problem"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ComputationalEconomicsLectures 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="a-simple-olg-model">
<h1>13. A simple OLG model<a class="headerlink" href="#a-simple-olg-model" title="Permalink to this headline">¶</a></h1>
<ul id="index-0">
<li><p class="first">OLG stands for overlapping generations</p>
</li>
<li><p class="first">This model allows for young and old agents</p>
</li>
<li><dl class="first docutils">
<dt>We start with</dt>
<dd><ul class="first last simple">
<li>Preferences</li>
<li>Technology</li>
<li>Government</li>
<li>Equilibrium</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="section" id="preferences">
<h2>13.1. Preferences<a class="headerlink" href="#preferences" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Agents live for 2 periods: young and old</li>
<li>There are <span class="math">\(N_y\)</span> young households and <span class="math">\(N_o\)</span> old households</li>
<li>They value consumption when young <span class="math">\(c_y\)</span> and consumption when old <span class="math">\(c_o\)</span></li>
<li>Their preferences are given via utility functions: <span class="math">\(u_t(c_t)\)</span></li>
<li>Agents discount time with factor <span class="math">\(\beta\)</span></li>
<li>Their life-time utility is:</li>
</ul>
<p><span class="math">\(V(c_y, c_o) = u(c_y) + \beta \times u(c_o)\)</span></p>
</div>
<div class="section" id="technology">
<h2>13.2. Technology<a class="headerlink" href="#technology" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Firms produce output <span class="math">\(Y\)</span> using input capital <span class="math">\(K\)</span> and labor <span class="math">\(L\)</span>:</p>
<p><span class="math">\(Y= F(K,L) = A \times K^{\alpha} \times L^{(1-\alpha)}\)</span></p>
</li>
<li><p class="first">Firms maximize profits:</p>
<p><span class="math">\(max_{\left\{K,L\right\}} F(K,L) - wL - qK\)</span></p>
</li>
<li><p class="first"><span class="math">\(w\)</span> are wages and <span class="math">\(q\)</span> is the factor price of capital</p>
</li>
</ul>
</div>
<div class="section" id="government">
<h2>13.3. Government<a class="headerlink" href="#government" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">The government collects taxes on labor <span class="math">\(\tau_L\)</span> and capital <span class="math">\(\tau_K\)</span></p>
</li>
<li><p class="first">The government pays for gov&#8217;t consumption <span class="math">\(G\)</span> and transfers to households <span class="math">\(T_y\)</span> and <span class="math">\(T_o\)</span></p>
<p><span class="math">\(G + T_y + T_o =  \tau_L \times wL + \tau_K \times RK\)</span></p>
</li>
</ul>
</div>
<div class="section" id="household-problem">
<h2>13.4. Household problem<a class="headerlink" href="#household-problem" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">HHs maximize <span class="math">\(V(c_y,c_o)\)</span> subject to their budget constraint in each period</p>
<p><span class="math">\(c_y + s = (1-\tau_L) w + t_y\)</span>
<span class="math">\(c_o = (1-\tau_K) Rs + t_o\)</span></p>
</li>
</ul>
</div>
<div class="section" id="equilibrium-definition">
<h2>13.5. Equilibrium definition<a class="headerlink" href="#equilibrium-definition" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Given sequences of</dt>
<dd><ul class="first last simple">
<li>prices <span class="math">\(\left\{w_t, R_t \right\}\)</span></li>
<li>government policies <span class="math">\(\left\{\tau_K, \tau_{L} \right\}\)</span> and equilibrium is defined as an allocation of:</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>sequences of <span class="math">\(\left\{c_{y,t},c_{o,t},s_t\right\}\)</span> so that</dt>
<dd><ul class="first last">
<li><p class="first">the HH max problem is solved</p>
</li>
<li><dl class="first docutils">
<dt>the firm maximization problem is solved, so that:</dt>
<dd><ul class="first last simple">
<li><span class="math">\(q = F_K\)</span></li>
<li><span class="math">\(w = F_L\)</span></li>
<li><span class="math">\(R = (1 + q - \delta)\)</span> is the after tax interest rate</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">the gov&#8217;t budget constraint clears</p>
</li>
<li><dl class="first docutils">
<dt>Markets clear:</dt>
<dd><ul class="first last simple">
<li><span class="math">\(K=S = N_y * s^*\)</span></li>
<li><span class="math">\(ARC: C + S +G = Y - (1-\delta) K\)</span></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="functional-forms-and-solutions">
<h2>13.6. Functional forms and solutions<a class="headerlink" href="#functional-forms-and-solutions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Preferences are given as: <span class="math">\(u(c_y) = log(c_y)\)</span> and <span class="math">\(u(c_o)=log(c_o)\)</span></li>
<li>We can either set up a Lagrangian with two constraints or simply substitute consumption out of the utilities using the BC.</li>
<li>We follow the second approach, since the form of the utility functions guarantees interior solutions</li>
<li>Therefor we don&#8217;t have to worry about corner solutions a la Kuhn-Tucker</li>
</ul>
</div>
<div class="section" id="substitute-the-budget-set-into-preferences">
<h2>13.7. Substitute the budget set into preferences<a class="headerlink" href="#substitute-the-budget-set-into-preferences" title="Permalink to this headline">¶</a></h2>
<p><span class="math">\(max_s log( (1-\tau_L)w + t_y - s)  + \beta  log( (1-\tau_K)R  s + t_o)\)</span></p>
<ul class="simple">
<li>This is now a function in 1 choice variable <span class="math">\(s\)</span></li>
<li>Derive this function w.r.t. <span class="math">\(s\)</span></li>
</ul>
<p><span class="math">\(\frac{\partial V}{\partial s}: \frac{1}{ (1-\tau_L)w + t_y - s} =
\frac{\beta (1-\tau_K)R}{(1-\tau_K)R  s + t_o}\)</span></p>
</div>
<div class="section" id="solve-for-optimal-household-savings">
<h2>13.8. Solve for optimal household savings: <span class="math">\(s^*\)</span><a class="headerlink" href="#solve-for-optimal-household-savings" title="Permalink to this headline">¶</a></h2>
<p><span class="math">\(s^* = \frac{\beta (1-\tau_K)R ((1-\tau_L)w + t_y) - t_o}{(1+\beta)(1-\tau_K)R}\)</span></p>
<ul class="simple">
<li>In equilibrium household savings equals the capital stock: <span class="math">\(S = K\)</span></li>
<li>Aggregate capital stock is therefore: <span class="math">\(K = S = N_y \times s^*\)</span></li>
</ul>
</div>
<div class="section" id="solution">
<h2>13.9. Solution<a class="headerlink" href="#solution" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Given parameter <span class="math">\(\beta\)</span>, gov&#8217;t policies <span class="math">\(\tau_K, \tau_L, t_y, t_o\)</span></li>
<li>Measures of young and old agents <span class="math">\(N_y, N_o\)</span> we can now solve for a steady
state equilibrium</li>
<li>The solution is represented by the following equation system</li>
<li>We will try to reduce the equation system into as few equations as possible,
ideally into one non-linear equation that we can then solve with a <tt class="docutils literal"><span class="pre">Newton</span>
<span class="pre">Algorithm</span></tt></li>
</ul>
</div>
<div class="section" id="equation-system">
<h2>13.10. Equation system<a class="headerlink" href="#equation-system" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">For starters we assume that government is completely exogenous.</p>
</li>
<li><p class="first">Assume <span class="math">\(L=1\)</span> we have the following unknowns: <span class="math">\(K,Y,R,w,q\)</span> and the following
equation.</p>
</li>
<li><p class="first">A solution exists if the number of unknowns is equal to the number of
equations:</p>
<p><span class="math">\(K=N_y s^* = N_y \frac{\beta (1-\tau_K)R ((1-\tau_L)w + t_y) - t_o}{(1+\beta)(1-\tau_K)R}\)</span></p>
<p><span class="math">\(\alpha*Y/K = q\)</span></p>
<p><span class="math">\((1-\alpha)*Y/L = w\)</span></p>
<p><span class="math">\(F(K,L) = A \times K^{\alpha} \times L^{(1-\alpha)}\)</span></p>
<p><span class="math">\(R = (1 + q - \delta)\)</span></p>
</li>
</ul>
</div>
<div class="section" id="method-1-substituting-everything">
<h2>13.11. Method 1: Substituting everything<a class="headerlink" href="#method-1-substituting-everything" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Note that <span class="math">\(L=1\)</span></p>
</li>
<li><p class="first">Substitute <span class="math">\(Y\)</span> out and get <span class="math">\(q(K)\)</span> and <span class="math">\(w(K)\)</span>.</p>
</li>
<li><p class="first">Use <span class="math">\(q(K)\)</span> in <span class="math">\(R\)</span> and get <span class="math">\(R(K)\)</span></p>
<p><span class="math">\(w = (1-\alpha)*A \times K^{\alpha}\)</span></p>
<p><span class="math">\(R = 1 + (\alpha* A \times K^{\alpha-1}) - \delta\)</span></p>
</li>
<li><p class="first">Plug <span class="math">\(w(K)\)</span> and <span class="math">\(R(K)\)</span> into <span class="math">\(K\)</span>-equation</p>
</li>
<li><p class="first">We now have one equation in <span class="math">\(K\)</span> only</p>
</li>
</ul>
</div>
<div class="section" id="one-equation-in-k">
<h2>13.12. One equation in K<a class="headerlink" href="#one-equation-in-k" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>:math:<a href="#id1"><span class="problematic" id="id2">`</span></a>K= N_y frac{beta (1-tau_K)(1 + (alpha* A times K^{alpha-1}) - delta)</li>
</ul>
<p>((1-tau_L)((1-alpha)*A times K^{alpha})
+ t_y) - t_o}{(1+beta)(1-tau_K)(1 + (alpha* A times K^{alpha-1}) - delta)}`</p>
<ul class="simple">
<li>Model parameters: <span class="math">\(N_y=N_o=1\)</span>, <span class="math">\(\alpha=0.3\)</span>, <span class="math">\(A=1\)</span>, <span class="math">\(\beta = 0.9\)</span>, <span class="math">\(\delta=0.1\)</span></li>
<li>We assumed that government was exogenous, so here are some government
parameters: <span class="math">\(\tau_L=0.2\)</span>, <span class="math">\(\tau_K=0.15\)</span>, <span class="math">\(T_y=T_o=t_y=t_o=0\)</span></li>
<li>Solve for <span class="math">\(K^*\)</span> and then back out <span class="math">\(q^*(K^*),w^*(K^*),R^*(K^*), Y^*(K^*)\)</span> which are all functions of <span class="math">\(K^*\)</span></li>
</ul>
</div>
<div class="section" id="aggregate-resource-constraint-arc">
<h2>13.13. Aggregate resource constraint (ARC)<a class="headerlink" href="#aggregate-resource-constraint-arc" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Aggregate consumption is:</p>
<p><span class="math">\(C = N_y*c_y + N_o*c_o\)</span></p>
</li>
<li><p class="first">Aggregate government consumption is:</p>
<p><span class="math">\(G  =  \tau_L \times wL + \tau_K \times RK - N_y*t_y - N_o*t_o\)</span></p>
</li>
<li><p class="first">The aggregate resource constraint (or goods market clearing condition) is:</p>
<p><span class="math">\(C + N_y*s + G = Y + (1-\delta)K\)</span></p>
</li>
</ul>
</div>
<div class="section" id="python-program-1">
<h2>13.14. Python Program 1<a class="headerlink" href="#python-program-1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">math</span> <span class="kn">as</span> <span class="nn">m</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span> <span class="k">as</span> <span class="n">st</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">fsolve</span>
<span class="kn">import</span> <span class="nn">time</span>            <span class="c"># Imports system time module to time your</span>
<span class="n">script</span>

<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">)</span>  <span class="c"># close all open figures</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># -----------------------------------------------</span>
<span class="c"># Root finding</span>
<span class="c"># -----------------------------------------------</span>

<span class="c"># Set parameter values</span>
<span class="n">N_y</span>     <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">N_o</span>     <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">alpha</span>   <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">A</span>       <span class="o">=</span> <span class="mi">1</span>
<span class="n">beta</span>    <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">delta</span>   <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">tau_L</span>   <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">tau_K</span>   <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">t_y</span>     <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">t_o</span>     <span class="o">=</span> <span class="mf">0.0</span>
<span class="c">#</span>
<span class="n">L</span>       <span class="o">=</span> <span class="mi">1</span>

<span class="c"># -------------------------------------------------------------</span>
<span class="c"># Method 1: Root finding</span>
<span class="c"># -------------------------------------------------------------</span>
<span class="c"># Define function of capital K</span>

<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">K</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="o">-</span> <span class="n">K</span> <span class="o">+</span> <span class="n">N_y</span><span class="o">*</span><span class="p">((</span><span class="n">beta</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_K</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="p">(</span><span class="n">alpha</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">K</span><span class="o">**</span><span class="p">(</span><span class="n">alpha</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="n">delta</span><span class="p">)</span><span class="o">*</span>
\
    <span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_L</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">K</span><span class="o">**</span><span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="n">t_y</span><span class="p">)</span> <span class="o">-</span>
<span class="n">t_o</span><span class="p">)</span><span class="o">/</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">beta</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_K</span><span class="p">)</span><span class="o">*</span>
    <span class="p">(</span><span class="mf">1.</span> <span class="o">+</span> <span class="p">(</span><span class="n">alpha</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">K</span><span class="o">**</span><span class="p">(</span><span class="n">alpha</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="n">delta</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">s</span>

<span class="c"># Plot the function</span>
<span class="n">Kmin</span> <span class="o">=</span> <span class="mf">0.0001</span>
<span class="n">Kmax</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">Kv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">Kmin</span><span class="p">,</span> <span class="n">Kmax</span><span class="p">,</span> <span class="p">(</span><span class="n">Kmax</span> <span class="o">-</span> <span class="n">Kmin</span><span class="p">)</span><span class="o">/</span><span class="mf">200.0</span><span class="p">)</span>
<span class="n">fK</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Kv</span><span class="p">),</span><span class="nb">float</span><span class="p">)</span> <span class="c"># define column vector</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Kv</span><span class="p">)):</span>
    <span class="n">fK</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">Kv</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c">#print(&quot;fK=&quot;, fK)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Kv</span><span class="p">,</span> <span class="n">fK</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Kv</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Kv</span><span class="p">)))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Capital&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_OLG_I_Capital_1.png"><img alt="_images/Slides_OLG_I_Capital_1.png" src="_images/Slides_OLG_I_Capital_1.png" style="width: 12cm;" /></a>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## Use built in &#39;fsolve&#39;</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------- Fsolve ------------&quot;</span><span class="p">)</span>
<span class="n">Kstar</span> <span class="o">=</span> <span class="n">fsolve</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c"># starting from K = 2</span>

<span class="n">Ystar</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="n">Kstar</span><span class="o">**</span><span class="n">alpha</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span>
<span class="n">qstar</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">Kstar</span><span class="o">**</span><span class="p">(</span><span class="n">alpha</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Rstar</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">+</span> <span class="n">qstar</span> <span class="o">-</span> <span class="n">delta</span>
<span class="n">wstar</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">Kstar</span><span class="o">**</span><span class="n">alpha</span>

<span class="c"># ------------------------------------</span>
<span class="c"># Back out solutions for the rest of the Economy</span>

<span class="c"># Household values</span>
<span class="n">sstar</span> <span class="o">=</span> <span class="n">Kstar</span><span class="o">/</span><span class="n">N_y</span>
<span class="n">cystar</span><span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">tau_L</span><span class="p">)</span><span class="o">*</span><span class="n">wstar</span> <span class="o">+</span> <span class="n">t_y</span> <span class="o">-</span> <span class="n">sstar</span>
<span class="n">costar</span><span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">tau_K</span><span class="p">)</span><span class="o">*</span><span class="n">Rstar</span><span class="o">*</span><span class="n">sstar</span> <span class="o">+</span> <span class="n">t_o</span>
<span class="n">Gstar</span> <span class="o">=</span> <span class="n">N_y</span><span class="o">*</span><span class="n">tau_L</span><span class="o">*</span><span class="n">wstar</span> <span class="o">+</span> <span class="n">N_o</span><span class="o">*</span><span class="n">tau_K</span><span class="o">*</span><span class="n">Rstar</span><span class="o">*</span><span class="n">sstar</span>  <span class="c"># residual gov&#39;t</span>
<span class="n">consumption</span><span class="p">,</span> <span class="n">thrown</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">ocean</span>

<span class="c"># Aggregate consumption</span>
<span class="n">Cstar</span> <span class="o">=</span> <span class="n">N_y</span><span class="o">*</span><span class="n">cystar</span> <span class="o">+</span> <span class="n">N_o</span><span class="o">*</span><span class="n">costar</span>

<span class="c"># Check the goods market condition or Aggregate resource constraint</span>
<span class="n">ARC</span> <span class="o">=</span> <span class="n">Ystar</span> <span class="o">-</span> <span class="n">delta</span><span class="o">*</span><span class="n">Kstar</span> <span class="o">-</span> <span class="n">Cstar</span> <span class="o">-</span> <span class="n">Gstar</span>

<span class="c"># Print results</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; Root finding &quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;K* = &quot;</span><span class="p">,</span> <span class="n">Kstar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Y* = &quot;</span><span class="p">,</span> <span class="n">Ystar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;q* = &quot;</span><span class="p">,</span> <span class="n">qstar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;R* = &quot;</span><span class="p">,</span> <span class="n">Rstar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;w* = &quot;</span><span class="p">,</span> <span class="n">wstar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;ARC = &quot;</span><span class="p">,</span> <span class="n">ARC</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre> -------------- Fsolve ------------
 -------------------------------------
 Root finding
 -------------------------------------
K* =  [ 0.15020394]
Y* =  [ 0.56624503]
q* =  [ 1.13095238]
R* =  [ 2.13095238]
w* =  [ 0.39637152]
 -------------------------------------
ARC =  [  5.55111512e-17]
</pre></div>
</div>
</div>
<div class="section" id="method-2">
<h2>13.15. Method 2<a class="headerlink" href="#method-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple" id="index-1">
<li>Instead of substituting and solving for one equation in one unknown we can
use the so called <strong>Gauss-Seidl</strong> method
1. For this method we start with a guess for capital <span class="math">\(K_{old}\)</span>
2. We then solve for prices <span class="math">\(w,R,q\)</span>
3. We then solve for optimal household savings <span class="math">\(s^*\)</span>
4. We then aggregate over all households and get the new capital stock <span class="math">\(K_{new}\)</span>
5. We then update capital <span class="math">\(K_{old} = \lambda * K_{new} + (1-\lambda) * K_{old}\)</span> and repeat from point 1 (<span class="math">\(\lambda\)</span> is an updating parameter)</li>
</ul>
</div>
<div class="section" id="python-program-2">
<h2>13.16. Python Program 2<a class="headerlink" href="#python-program-2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Guess capital stock</span>
<span class="n">glamda</span>  <span class="o">=</span> <span class="mf">0.5</span>   <span class="c"># updating parameter</span>
<span class="n">Kold</span>    <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">jerror</span>  <span class="o">=</span> <span class="mi">100</span>
<span class="nb">iter</span>    <span class="o">=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="p">(</span><span class="nb">iter</span><span class="o">&lt;</span><span class="mi">200</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">jerror</span><span class="o">&gt;</span><span class="mf">0.001</span><span class="p">):</span>
    <span class="c"># Solve for prices using expressions for w(K) and q(K)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">Kold</span><span class="o">**</span><span class="p">(</span><span class="n">alpha</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">w</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">Kold</span><span class="o">**</span><span class="n">alpha</span>
    <span class="n">R</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">q</span> <span class="o">-</span> <span class="n">delta</span>
    <span class="n">Knew</span> <span class="o">=</span> <span class="n">N_y</span><span class="o">*</span> <span class="p">(</span><span class="n">beta</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_K</span><span class="p">)</span><span class="o">*</span><span class="n">R</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_L</span><span class="p">)</span><span class="o">*</span><span class="n">w</span> <span class="o">+</span> <span class="n">t_y</span><span class="p">)</span> <span class="o">-</span>
<span class="n">t_o</span><span class="p">)</span><span class="o">/</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">beta</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_K</span><span class="p">)</span><span class="o">*</span><span class="n">R</span><span class="p">)</span>
    <span class="nb">iter</span> <span class="o">=</span> <span class="nb">iter</span> <span class="o">+</span><span class="mi">1</span>
    <span class="c"># Update capital stock</span>
    <span class="n">Kold</span>    <span class="o">=</span> <span class="n">glamda</span><span class="o">*</span><span class="n">Knew</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">glamda</span><span class="p">)</span><span class="o">*</span><span class="n">Kold</span>
    <span class="n">jerror</span>  <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Kold</span><span class="o">-</span><span class="n">Knew</span><span class="p">)</span><span class="o">/</span><span class="n">Kold</span>

<span class="c"># Print results</span>
<span class="n">Kstar</span> <span class="o">=</span> <span class="n">Knew</span>
<span class="n">Ystar</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="n">Kstar</span><span class="o">**</span><span class="n">alpha</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span>

<span class="c"># ------------------------------------</span>
<span class="c"># Back out solutions for the rest of the Economy</span>

<span class="c"># Household values</span>
<span class="n">sstar</span> <span class="o">=</span> <span class="n">Kstar</span><span class="o">/</span><span class="n">N_y</span>
<span class="n">cystar</span><span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_L</span><span class="p">)</span><span class="o">*</span><span class="n">wstar</span> <span class="o">+</span> <span class="n">t_y</span> <span class="o">-</span> <span class="n">sstar</span>
<span class="n">costar</span><span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">tau_K</span><span class="p">)</span><span class="o">*</span><span class="n">Rstar</span><span class="o">*</span><span class="n">sstar</span> <span class="o">+</span> <span class="n">t_o</span>
<span class="n">Gstar</span> <span class="o">=</span> <span class="n">N_y</span><span class="o">*</span><span class="n">tau_L</span><span class="o">*</span><span class="n">wstar</span> <span class="o">+</span> <span class="n">N_o</span><span class="o">*</span><span class="n">tau_K</span><span class="o">*</span><span class="n">Rstar</span><span class="o">*</span><span class="n">sstar</span>  <span class="c"># residual gov&#39;t</span>
<span class="n">consumption</span><span class="p">,</span> <span class="n">thrown</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">ocean</span>

<span class="c"># Aggregate consumption</span>
<span class="n">Cstar</span> <span class="o">=</span> <span class="n">N_y</span><span class="o">*</span><span class="n">cystar</span> <span class="o">+</span> <span class="n">N_o</span><span class="o">*</span><span class="n">costar</span>

<span class="c"># Check the goods market condition or Aggregate resource constraint</span>
<span class="n">ARC</span> <span class="o">=</span> <span class="n">Ystar</span> <span class="o">-</span> <span class="n">delta</span><span class="o">*</span><span class="n">Kstar</span> <span class="o">-</span> <span class="n">Cstar</span> <span class="o">-</span> <span class="n">Gstar</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; Gauss-Seidl &quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Nr. of iterations = &quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">iter</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;K* = &quot;</span><span class="p">,</span> <span class="n">Kstar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Y* = &quot;</span><span class="p">,</span> <span class="n">Ystar</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;q* = &quot;</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;R* = &quot;</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;w* = &quot;</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;ARC = &quot;</span><span class="p">,</span> <span class="n">ARC</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre> -------------------------------------
 Gauss-Seidl
 -------------------------------------
Nr. of iterations = 200
K* =  0.15020394401911097
Y* =  0.5662450270561723
q* =  1.1309523809523807
R* =  2.1309523809523805
w* =  0.3963715189393206
 -------------------------------------
ARC =  [  5.55111512e-17]
</pre></div>
</div>
</div>
<div class="section" id="homework">
<h2>13.17. Homework<a class="headerlink" href="#homework" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="Lecture_OLG_I/Homework/Homework_OLG_I.html"><em>&lt;no title&gt;</em></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">13. A simple OLG model</a><ul>
<li><a class="reference internal" href="#preferences">13.1. Preferences</a></li>
<li><a class="reference internal" href="#technology">13.2. Technology</a></li>
<li><a class="reference internal" href="#government">13.3. Government</a></li>
<li><a class="reference internal" href="#household-problem">13.4. Household problem</a></li>
<li><a class="reference internal" href="#equilibrium-definition">13.5. Equilibrium definition</a></li>
<li><a class="reference internal" href="#functional-forms-and-solutions">13.6. Functional forms and solutions</a></li>
<li><a class="reference internal" href="#substitute-the-budget-set-into-preferences">13.7. Substitute the budget set into preferences</a></li>
<li><a class="reference internal" href="#solve-for-optimal-household-savings">13.8. Solve for optimal household savings: <span class="math">\(s^*\)</span></a></li>
<li><a class="reference internal" href="#solution">13.9. Solution</a></li>
<li><a class="reference internal" href="#equation-system">13.10. Equation system</a></li>
<li><a class="reference internal" href="#method-1-substituting-everything">13.11. Method 1: Substituting everything</a></li>
<li><a class="reference internal" href="#one-equation-in-k">13.12. One equation in K</a></li>
<li><a class="reference internal" href="#aggregate-resource-constraint-arc">13.13. Aggregate resource constraint (ARC)</a></li>
<li><a class="reference internal" href="#python-program-1">13.14. Python Program 1</a></li>
<li><a class="reference internal" href="#method-2">13.15. Method 2</a></li>
<li><a class="reference internal" href="#python-program-2">13.16. Python Program 2</a></li>
<li><a class="reference internal" href="#homework">13.17. Homework</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Slides_Cake.html"
                        title="previous chapter">12. The cake eating problem</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Slides_OLG_II.html"
                        title="next chapter">14. An OLG model with labor-leisure choice</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Slides_OLG_II.html" title="14. An OLG model with labor-leisure choice"
             >next</a> |</li>
        <li class="right" >
          <a href="Slides_Cake.html" title="12. The cake eating problem"
             >previous</a> |</li>
        <li><a href="index.html">ComputationalEconomicsLectures 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Juergen Jung.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
