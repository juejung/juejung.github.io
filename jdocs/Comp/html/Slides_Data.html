

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. Working with data &mdash; ComputationalEconomicsLectures 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="ComputationalEconomicsLectures 1.0 documentation" href="index.html"/>
        <link rel="next" title="8. Working with data from the web" href="Slides_WebData.html"/>
        <link rel="prev" title="6. Object Oriented Programming" href="Slides_OOP.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> ComputationalEconomicsLectures</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Slides_Basics.html">1. A brief introduction to Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#installing-python">1.1. Installing Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#git-and-github">1.2. Git and Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#simple-calculations">1.3. Simple calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#the-print-function">1.4. The print function</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#script-files">1.5. Script files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#ipython-notebook">1.6. iPython Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#lists-tuples-and-dictionaries">1.7. Lists, tuples and dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#in-class-exercises">1.8. In class exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Basics.html#homework">1.9. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Loop.html">2. Basic programming techniques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Loop.html#branching">2.1. Branching</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Loop.html#for-loops">2.2. For loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Loop.html#while-loop">2.3. While loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Loop.html#homework">2.4. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Arrays.html">3. Vectors and matrices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Arrays.html#definitions-of-vectors-and-matrices">3.1. Definitions of vectors and matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Arrays.html#simple-calculations-with-vectors-and-matrices">3.2. Simple calculations with vectors and matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Arrays.html#vector-manipulation">3.3. Vector manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Arrays.html#matrix-manipulation">3.4. Matrix manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Arrays.html#in-class-exercises">3.5. In class exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Arrays.html#homework">3.6. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Plot.html">4. Plotting using <tt class="docutils literal"><span class="pre">matplotlib</span></tt></a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Plot.html#plotting-vectors-and-arrays">4.1. Plotting vectors and arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Plot.html#plotting-functions">4.2. Plotting functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Plot.html#subplots">4.3. Subplots</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Plot.html#dgraphing">4.4. 3DGraphing</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Plot.html#homework">4.5. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Functions.html">5. Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Functions.html#use-simple-user-defined-functions">5.1. Use simple user defined functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Functions.html#advanced-graphing-using-loops-and-functions">5.2. Advanced Graphing using loops and functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Functions.html#in-class-exercises">5.3. In class exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Functions.html#homework">5.4. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_OOP.html">6. Object Oriented Programming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_OOP.html#introduction">6.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OOP.html#inheritance-and-subclasses">6.2. Inheritance and subclasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OOP.html#generating-multiple-objects">6.3. Generating multiple objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OOP.html#homework">6.4. Homework</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">7. Working with data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#read-in-small-data-set-from-a-comma-separated-csv-file">7.1. Read in small data set from a comma separated (.csv) file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#making-simple-graphs-from-our-data">7.2. Making simple graphs from our data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary-statistics">7.3. Summary statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#measures-of-linear-relationship">7.4. Measures of linear relationship</a></li>
<li class="toctree-l2"><a class="reference internal" href="#homework">7.5. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_WebData.html">8. Working with data from the web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_WebData.html#more-tutorials">8.1. More tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_WebData.html#homework">8.2. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Random.html">9. Random numbers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Random.html#uniformly-distributed-random-numbers">9.1. Uniformly distributed random numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Random.html#normally-distributed-random-numbers">9.2. Normally distributed random numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Random.html#t-distributed-random-variable">9.3. T-distributed random variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Random.html#homework">9.4. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Root.html">10. Root finding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Root.html#first-steps">10.1. First steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Root.html#newton-raphson">10.2. Newton-Raphson</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Root.html#secant-method">10.3. Secant method</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Root.html#bisection">10.4. Bisection</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Root.html#using-built-in-unit-root-function">10.5. Using built in unit-root function</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Root.html#homework">10.6. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Optimization.html">11. Optimization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Optimization.html#univariate-function-optimization">11.1. Univariate function optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Optimization.html#optimization-methods">11.2. Optimization methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Optimization.html#multivariate-optimization">11.3. Multivariate optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Optimization.html#homework">11.4. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Cake.html">12. The cake eating problem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#solution">12.1. Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#formally">12.2. Formally</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#id1">12.3. Formally</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#analytical-solution">12.4. Analytical solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#euler-equation">12.5. Euler equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#solving-the-problem">12.6. Solving the problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#solving-the-problem-analytics">12.7. Solving the problem: analytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#plotting-the-solution">12.8. Plotting the solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#numerical-solution">12.9. Numerical solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#function-definitions">12.10. Function definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#plotting-is-achieved-via">12.11. Plotting is achieved via:</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#numerical-solution-in-python">12.12. Numerical solution in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#optimizer-in-optimize-toolbox">12.13. Optimizer in <tt class="docutils literal"><span class="pre">optimize</span></tt> toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Cake.html#homework">12.14. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_OLG_I.html">13. A simple OLG model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#preferences">13.1. Preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#technology">13.2. Technology</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#government">13.3. Government</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#household-problem">13.4. Household problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#equilibrium-definition">13.5. Equilibrium definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#functional-forms-and-solutions">13.6. Functional forms and solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#substitute-the-budget-set-into-preferences">13.7. Substitute the budget set into preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#solve-for-optimal-household-savings">13.8. Solve for optimal household savings: <span class="math">\(s^*\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#solution">13.9. Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#equation-system">13.10. Equation system</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#method-1-substituting-everything">13.11. Method 1: Substituting everything</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#one-equation-in-k">13.12. One equation in K</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#aggregate-resource-constraint-arc">13.13. Aggregate resource constraint (ARC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#python-program-1">13.14. Python Program 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#method-2">13.15. Method 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#python-program-2">13.16. Python Program 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_I.html#homework">13.17. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_OLG_II.html">14. An OLG model with labor-leisure choice</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#preferences">14.1. Preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#technology">14.2. Technology</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#government">14.3. Government</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#household-problem">14.4. Household problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#equilibrium-definition">14.5. Equilibrium definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#functional-forms-and-solutions">14.6. Functional forms and solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#substitute-in-preferences">14.7. Substitute in preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#solve-for-optimal-and">14.8. Solve for optimal <span class="math">\(s^*\)</span> and <span class="math">\(l^*\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_OLG_II.html#homework">14.9. Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Slides_Growth.html">15. Growth Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#preferences">15.1. Preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#technology">15.2. Technology</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#government">15.3. Government</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#household-problem">15.4. Household problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#equilibrium-definition">15.5. Equilibrium definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#functional-forms-and-solutions">15.6. Functional forms and solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#substitute-in-preferences">15.7. Substitute in preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#solve-for-optimal-and">15.8. Solve for optimal <span class="math">\(s^*\)</span> and <span class="math">\(l^*\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="Slides_Growth.html#homework">15.9. Homework</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ComputationalEconomicsLectures</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>7. Working with data</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/Slides_Data.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="working-with-data">
<h1>7. Working with data<a class="headerlink" href="#working-with-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="read-in-small-data-set-from-a-comma-separated-csv-file">
<h2>7.1. Read in small data set from a comma separated (.csv) file<a class="headerlink" href="#read-in-small-data-set-from-a-comma-separated-csv-file" title="Permalink to this headline">¶</a></h2>
<p>We use the <tt class="docutils literal"><span class="pre">Pandas</span></tt> package for data work. It allows easy organization of
data in the spirit of <tt class="docutils literal"><span class="pre">DataFrame</span></tt> concept in <strong>R</strong>.
We need to install <tt class="docutils literal"><span class="pre">Pandas</span></tt> using <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span></tt> from command line.
We will then import the <tt class="docutils literal"><span class="pre">Pandas</span></tt> library using the <tt class="docutils literal"><span class="pre">import</span></tt> statement.</p>
<p>The first dataset that we are working with is a comma separated file, called
<a class="reference download internal" href="_downloads/Lecture_Data_Excel_a.csv"><tt class="xref download docutils literal"><span class="pre">Lecture_Data_Excel_a.csv</span></tt></a>.
We first import this file using the <tt class="docutils literal"><span class="pre">pd.read_csv</span></tt> command from the <tt class="docutils literal"><span class="pre">Pandas</span></tt> library.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">ggplot</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span> <span class="k">as</span> <span class="n">st</span>
<span class="kn">import</span> <span class="nn">math</span> <span class="kn">as</span> <span class="nn">m</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">time</span>  <span class="c"># Imports system time module to time your script</span>

<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">)</span>  <span class="c"># close all open figures</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Read in small data from .csv file</span>
<span class="c"># Filepath</span>
<span class="n">filepath</span> <span class="o">=</span> <span class="s">&#39;Lecture_Data/&#39;</span>
<span class="c"># In windows you can also specify the absolute path to your data file</span>
<span class="c"># filepath =</span>
<span class="s">&#39;C:/Dropbox/Towson/Teaching/3_ComputationalEconomics/Lectures/Lecture_Data/&#39;</span>

<span class="c"># ------------- Load data --------------------</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filepath</span> <span class="o">+</span> <span class="s">&#39;Lecture_Data_Excel_a.csv&#39;</span><span class="p">,</span>
<span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;Frequency&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">})</span>

<span class="c"># Alternatively we could have used:</span>
<span class="c"># df = pd.read_table(filepath + &#39;Lecture_Data_Excel_a.csv&#39;), sep=&#39;,&#39;)</span>

<span class="c"># Let&#39;s have a look at it, it&#39;s a nested list</span>
<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                 Area  Frequency  Unnamed: 2  Unnamed: 3
0          Accounting         73         NaN         NaN
1             Finance         52         NaN         NaN
2  General management         36         NaN         NaN
3     Marketing sales         64         NaN         NaN
4               other         28         NaN         NaN
</pre></div>
</div>
<p>Drop column 3 and 4 and let&#8217;s have a look at the data again.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s">&#39;Unnamed: 2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s">&#39;Unnamed: 3&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c"># Let&#39;s have a look at it, it&#39;s a nested list</span>
<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                 Area  Frequency
0          Accounting         73
1             Finance         52
2  General management         36
3     Marketing sales         64
4               other         28
</pre></div>
</div>
<p>We next generate a new variable called <tt class="docutils literal"><span class="pre">relFrequency</span></tt> that contains the relative
frequencies.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Make new column with relative frequency</span>
<span class="n">df</span><span class="p">[</span><span class="s">&#39;relFrequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c"># Let&#39;s have a look at it, it&#39;s a nested list</span>
<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                 Area  Frequency  relFrequency
0          Accounting         73      0.288538
1             Finance         52      0.205534
2  General management         36      0.142292
3     Marketing sales         64      0.252964
4               other         28      0.110672
</pre></div>
</div>
<p>Now we grab the relative frequencies out of the DataFrame into a numpy array.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xv</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">&#39;relFrequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="section" id="making-simple-graphs-from-our-data">
<h2>7.2. Making simple graphs from our data<a class="headerlink" href="#making-simple-graphs-from-our-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bar-chart">
<h3>7.2.1. Bar chart<a class="headerlink" href="#bar-chart" title="Permalink to this headline">¶</a></h3>
<p>We first make a bar chart of the absolute frequencies.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="c">#</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="mf">1.</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xv</span><span class="p">)),</span> <span class="n">xv</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">)</span>
<span class="c"># Annotate with text</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="mf">1.</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xv</span><span class="p">)))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">xv</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">val</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;%&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">,</span>
<span class="n">ha</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;%&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Relative Frequency Barchart&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c"># We can also save this graph as a pdf</span>
<span class="c">#savefig(&#39;./Graphs/fig1.pdf&#39;)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Barchart_1.png"><img alt="_images/Slides_Data_Barchart_1.png" src="_images/Slides_Data_Barchart_1.png" style="width: 12cm;" /></a>
<p>This simple command plots the barchart into a window and saves it as
<strong>fig1.pdf</strong> into a subfolder called <tt class="docutils literal"><span class="pre">Graphs</span></tt>. Don&#8217;t forget to first make
this subfolder, otherwise <tt class="docutils literal"><span class="pre">Python</span></tt> will throw an error when it can&#8217;t find the
folder.</p>
</div>
<div class="section" id="pie-chart">
<h3>7.2.2. Pie chart<a class="headerlink" href="#pie-chart" title="Permalink to this headline">¶</a></h3>
<p>We next make a pie chart using the relative frequencies stored in vector <tt class="docutils literal"><span class="pre">xv</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c"># Annotate with text</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Relative Frequency Pie Chart&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Piechart_1.png"><img alt="_images/Slides_Data_Piechart_1.png" src="_images/Slides_Data_Piechart_1.png" style="width: 12cm;" /></a>
</div>
<div class="section" id="histogram">
<h3>7.2.3. Histogram<a class="headerlink" href="#histogram" title="Permalink to this headline">¶</a></h3>
<p>Next we use a new data file called <strong>Lecture_Data_Excel_b.csv</strong>. This data file
contains data on height age and other variables. We first make a histogram of
the continuous variable Height.
The actual command for the histogram is <tt class="docutils literal"><span class="pre">hist</span></tt>. It returns three variables
<tt class="docutils literal"><span class="pre">prob</span></tt>, <tt class="docutils literal"><span class="pre">bins</span></tt>, and <tt class="docutils literal"><span class="pre">patches</span></tt>. We use them in the following to add
information to the histogram.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filepath</span> <span class="o">+</span> <span class="s">&#39;Lecture_Data_Excel_b.csv&#39;</span><span class="p">)</span>

<span class="n">heightv</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">&#39;Height&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c"># Initialize</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">heightv</span><span class="p">)</span> <span class="c"># number of obs.</span>
<span class="n">B</span> <span class="o">=</span> <span class="mi">8</span>           <span class="c"># number of bins in histogram</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">prob</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">patches</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">heightv</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">B</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s">&#39;mid&#39;</span> <span class="p">)</span>
<span class="c"># Annotate with text</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">prob</span><span class="p">):</span>
    <span class="n">percent</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">/</span><span class="n">N</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
    <span class="c"># only annotate non-zero values</span>
    <span class="k">if</span> <span class="n">percent</span><span class="p">:</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">p</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">percent</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;%&#39;</span><span class="p">,</span>
<span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;Height groups&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;Number of obs&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Histogram of Height&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">heightv</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">heightv</span><span class="p">))</span>
<span class="c">#</span>
<span class="n">df</span><span class="p">[</span><span class="s">&#39;Height&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span> <span class="o">=</span> <span class="n">B</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="c">#</span>
<span class="n">df</span><span class="p">[</span><span class="s">&#39;AverageMathSAT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span> <span class="o">=</span> <span class="n">B</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span>
<span class="mf">0.3</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Math SAT&#39;</span><span class="p">)</span>
<span class="c">#</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">hspace</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Histogram_1.png"><img alt="_images/Slides_Data_Histogram_1.png" src="_images/Slides_Data_Histogram_1.png" style="width: 12cm;" /></a>
<p>Another way to graph a histogram is by using the powerful <tt class="docutils literal"><span class="pre">ggplot</span></tt> package
which is a translation of <strong>R&#8217;s</strong> <tt class="docutils literal"><span class="pre">ggplot2</span></tt> package into <strong>Python</strong>. It
follows a completely different graphing philosophy based on the <strong>grammar of
grapics</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Using ggplot package</span>
<span class="k">print</span><span class="p">(</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#39;Height&#39;</span><span class="p">),</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span> <span class="o">+</span> <span class="n">geom_histogram</span><span class="p">()</span> <span class="o">+</span>
<span class="n">ggtitle</span><span class="p">(</span><span class="s">&quot;Histogram of Height using ggplot&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">labs</span><span class="p">(</span><span class="s">&quot;Height&quot;</span><span class="p">,</span> <span class="s">&quot;Freq&quot;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;ggplot: (10340591)&gt;
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Boxplot_1.png"><img alt="_images/Slides_Data_Boxplot_1.png" src="_images/Slides_Data_Boxplot_1.png" style="width: 12cm;" /></a>
</div>
<div class="section" id="boxplots">
<h3>7.2.4. Boxplots<a class="headerlink" href="#boxplots" title="Permalink to this headline">¶</a></h3>
<p>A boxplot of height is made as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">heightv</span><span class="p">)</span>
<span class="c"># Annotate with text</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Boxplot of Height&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Boxplot_1.png"><img alt="_images/Slides_Data_Boxplot_1.png" src="_images/Slides_Data_Boxplot_1.png" style="width: 12cm;" /></a>
</div>
</div>
<div class="section" id="summary-statistics">
<h2>7.3. Summary statistics<a class="headerlink" href="#summary-statistics" title="Permalink to this headline">¶</a></h2>
<p>We next go through some basic summary statistics.</p>
<div class="section" id="measures-of-central-tendency">
<h3>7.3.1. Measures of central tendency<a class="headerlink" href="#measures-of-central-tendency" title="Permalink to this headline">¶</a></h3>
<p>A quick way to produce summary statistics of our data set is to use <tt class="docutils literal"><span class="pre">panda's</span></tt>
command <tt class="docutils literal"><span class="pre">describe</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>          Height   Response  AverageMathSAT        Age     Female
Education
count  60.000000  60.000000       60.000000  60.000000  60.000000
60.000000
mean    6.816667   3.966667      493.666667  20.933333   0.333333
3.016667
std     3.571743   0.662984       34.018274   1.176992   0.475383
1.096863
min     1.100000   3.000000      370.000000  20.000000   0.000000
1.000000
25%     3.950000   4.000000      478.500000  20.000000   0.000000
2.000000
50%     6.850000   4.000000      507.000000  20.000000   0.000000
3.000000
75%     9.650000   4.000000      509.250000  22.000000   1.000000
4.000000
max    12.700000   5.000000      542.000000  23.000000   1.000000
5.000000
</pre></div>
</div>
<p>Or we can produce the same statistics by hand. We first calculate the mean,
median and mode. Note that <tt class="docutils literal"><span class="pre">mode</span></tt> is part of the <tt class="docutils literal"><span class="pre">stats</span></tt> package which was
imported as <tt class="docutils literal"><span class="pre">st</span></tt> using: <tt class="docutils literal"><span class="pre">from</span> <span class="pre">scipy</span> <span class="pre">import</span> <span class="pre">stats</span> <span class="pre">as</span> <span class="pre">st</span></tt>. Now we have to add
<tt class="docutils literal"><span class="pre">st</span></tt> to the mode command: <tt class="docutils literal"><span class="pre">st.mode(heightv)</span></tt> in order to call it. The other
commands are part of the <tt class="docutils literal"><span class="pre">numpy</span></tt> package so they have the prefix <tt class="docutils literal"><span class="pre">np.</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">heightv</span><span class="p">)</span>   <span class="c"># Number of observations (sample size)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -----------------------------------------&quot;</span><span class="p">)</span>
<span class="c"># Mean - Median - Mode</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Mean(height)= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">heightv</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Median(height)= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">heightv</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Mode(height)= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">heightv</span><span class="p">)))</span> <span class="c"># Mode (value with</span>
<span class="n">highest</span> <span class="n">frequency</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre> -----------------------------------------
Mean(height)= 6.81666666667
Median(height)= 6.85
Mode(height)= (array([ 1.1]), array([ 1.]))
</pre></div>
</div>
<p>We can also just summarize a variable using the <tt class="docutils literal"><span class="pre">st.describe</span></tt> command from
the <tt class="docutils literal"><span class="pre">stats</span></tt> package.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Summary stats</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Summary stats: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">heightv</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Summary stats: (60, (1.1000000000000001, 12.699999999999999),
6.8166666666666655, 12.757344632768362, 0.01909961978127301,
-1.1611486008105545)
</pre></div>
</div>
</div>
<div class="section" id="measures-of-dispersion">
<h3>7.3.2. Measures of dispersion<a class="headerlink" href="#measures-of-dispersion" title="Permalink to this headline">¶</a></h3>
<p>We now calculate the range, variance and standard deviations. Remember that for
variance and standard deviation there is a distinction between population and
sample.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot; -----------------------------------------&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Range= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">heightv</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">heightv</span><span class="p">)))</span>   <span class="c"># returns smallest</span>
<span class="n">a</span> <span class="n">largest</span> <span class="n">element</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Population variance = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">heightv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">heightv</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">N</span><span class="p">))</span>    <span class="c"># population variance</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Sample variance     = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">heightv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">heightv</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>      <span class="c"># sample variance</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Pop.   standard dev = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">heightv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">heightv</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">N</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Sample standard dev = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">heightv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">heightv</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">))))</span>
<span class="c">#or simply</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Pop. standard dev = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">heightv</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -----------------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre> -----------------------------------------
Range= 11.6
Population variance = 12.5447222222
Sample variance     = 12.7573446328
Pop.   standard dev = 3.54185293628
Sample standard dev = 3.5717425205
Pop. standard dev = 3.54185293628
 -----------------------------------------
</pre></div>
</div>
</div>
<div class="section" id="measures-of-relative-standing">
<h3>7.3.3. Measures of relative standing<a class="headerlink" href="#measures-of-relative-standing" title="Permalink to this headline">¶</a></h3>
<p>Percentiles are calculated as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;1 quartile (25th percentile) = &quot;</span> <span class="o">+</span>
<span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">scoreatpercentile</span><span class="p">(</span><span class="n">heightv</span><span class="p">,</span> <span class="mi">25</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;2 quartile (50th percentile) = &quot;</span> <span class="o">+</span>
<span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">scoreatpercentile</span><span class="p">(</span><span class="n">heightv</span><span class="p">,</span> <span class="mi">50</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;3 quartile (75th percentile) = &quot;</span> <span class="o">+</span>
<span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">scoreatpercentile</span><span class="p">(</span><span class="n">heightv</span><span class="p">,</span> <span class="mi">75</span><span class="p">)))</span>
<span class="c"># Inter quartile rante: Q3-Q1 or P_75-P_25</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;IQR = (P75-P25) = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">scoreatpercentile</span><span class="p">(</span><span class="n">heightv</span><span class="p">,</span>
<span class="mi">75</span><span class="p">)</span><span class="o">-</span><span class="n">st</span><span class="o">.</span><span class="n">scoreatpercentile</span><span class="p">(</span><span class="n">heightv</span><span class="p">,</span> <span class="mi">25</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot; -----------------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>1 quartile (25th percentile) = 3.95
2 quartile (50th percentile) = 6.85
3 quartile (75th percentile) = 9.65
IQR = (P75-P25) = 5.7
 -----------------------------------------
</pre></div>
</div>
</div>
</div>
<div class="section" id="measures-of-linear-relationship">
<h2>7.4. Measures of linear relationship<a class="headerlink" href="#measures-of-linear-relationship" title="Permalink to this headline">¶</a></h2>
<div class="section" id="covariance">
<h3>7.4.1. Covariance<a class="headerlink" href="#covariance" title="Permalink to this headline">¶</a></h3>
<p>We first grab two variables <tt class="docutils literal"><span class="pre">heightv</span></tt> and <tt class="docutils literal"><span class="pre">agev</span></tt> from the dataframe and
define them as <tt class="docutils literal"><span class="pre">numpy</span></tt> arrays.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xv</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">yv</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">&#39;Height&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">xv</span><span class="p">)</span>
</pre></div>
</div>
<p>We then go ahead and calculate the covariance.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;Population covariance= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">xv</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">xv</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">yv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">yv</span><span class="p">)))</span><span class="o">/</span><span class="n">n</span><span class="p">))</span>          <span class="c"># Population covariance</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Sample covariance= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">xv</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">xv</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">yv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">yv</span><span class="p">)))</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>       <span class="c"># sample covariance</span>
<span class="c"># or simply</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Sample covariance= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Age</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Height</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Population covariance= -0.158888888889
Sample covariance= -0.161581920904
Sample covariance= -0.161581920904
</pre></div>
</div>
</div>
<div class="section" id="correlation-coefficient">
<h3>7.4.2. Correlation coefficient<a class="headerlink" href="#correlation-coefficient" title="Permalink to this headline">¶</a></h3>
<p>We can calculate the correlation coefficient by hand or using the <tt class="docutils literal"><span class="pre">pandas</span></tt>
toolbox command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;Correlation coefficient= &quot;</span> <span class="o">+</span> \
        <span class="nb">str</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">xv</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">xv</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">yv</span><span class="o">-</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">yv</span><span class="p">)))</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">xv</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">yv</span><span class="p">))))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Correlation coefficient= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Age</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Height</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Correlation coefficient= -0.0384360741963
Correlation coefficient= -0.0384360741963
</pre></div>
</div>
</div>
<div class="section" id="regression-line">
<h3>7.4.3. Regression line<a class="headerlink" href="#regression-line" title="Permalink to this headline">¶</a></h3>
<div class="section" id="example-1-simple-example">
<h4>7.4.3.1. Example 1: Simple example<a class="headerlink" href="#example-1-simple-example" title="Permalink to this headline">¶</a></h4>
<p>We first generate some data. A variable <tt class="docutils literal"><span class="pre">x</span></tt> and a variable <tt class="docutils literal"><span class="pre">y</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Define data. 2 vectors xv and yv</span>
<span class="n">xv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">yv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">])</span>
</pre></div>
</div>
<p>We then &#8220;cast&#8221; these into a <tt class="docutils literal"><span class="pre">pandas</span></tt> DataFrame.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Define data frame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">xv</span><span class="p">,</span> <span class="n">yv</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>We fist make a <strong>scatterplot</strong> with least squares trend line: <cite>y = beta_0 +
beta_1 * x + epsilon</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">yv</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;p = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>

<span class="c"># scatterplot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Linear regression with polyfit()&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">yv</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;data&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">polyval</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">xv</span><span class="p">),</span><span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Linear regression&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">&#39;Data&#39;</span><span class="p">,</span> <span class="s">&#39;OLS&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>p = [ 1.77380952  1.89285714]
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Scatter1_1.png"><img alt="_images/Slides_Data_Scatter1_1.png" src="_images/Slides_Data_Scatter1_1.png" style="width: 12cm;" /></a>
<p>We then run the same regression using a more general method called <tt class="docutils literal"><span class="pre">ols</span></tt>
which is part of <tt class="docutils literal"><span class="pre">pandas</span></tt>. When calling the <tt class="docutils literal"><span class="pre">ols</span></tt> function
you need to add the module name (<tt class="docutils literal"><span class="pre">pandas</span></tt> was imported as <tt class="docutils literal"><span class="pre">pd</span></tt>)
in front of it: <tt class="docutils literal"><span class="pre">pd.ols()</span></tt>. You then define the independent variable <tt class="docutils literal"><span class="pre">y</span></tt>
and the dependent variables <tt class="docutils literal"><span class="pre">x's</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Run OLS regression</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">],</span> <span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">])</span>
<span class="c"># Show coefficient estimates</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;Parameters = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">beta</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>-------------------------Summary of Regression
Analysis-------------------------

Formula: Y ~ &lt;x&gt; + &lt;intercept&gt;

Number of Observations:         8
Number of Degrees of Freedom:   2

R-squared:         0.6093
Adj R-squared:     0.5442

Rmse:              3.7578

F-stat (1, 6):     9.3583, p-value:     0.0222

Degrees of Freedom: model 1, resid 6

-----------------------Summary of Estimated
Coefficients------------------------
      Variable       Coef    Std Err     t-stat    p-value    CI 2.5%
CI 97.5%
--------------------------------------------------------------------------------
             x     1.7738     0.5798       3.06     0.0222     0.6373
2.9103
     intercept     1.8929     2.9281       0.65     0.5419    -3.8461
7.6318
---------------------------------End of
Summary---------------------------------

Parameters = x            1.773810
intercept    1.892857
dtype: float64
</pre></div>
</div>
<p>Finally, we use the model to make a prediction of <tt class="docutils literal"><span class="pre">y</span></tt> when <tt class="docutils literal"><span class="pre">x=8.5</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Make prediction for x = 8.5</span>
<span class="n">betas</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">beta</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Prediction of y for x=8.5 is: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">betas</span> <span class="o">*</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mf">8.5</span><span class="p">]))))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Prediction of y for x=8.5 is: 17.8630952381
</pre></div>
</div>
<p>We can also use the results from the <tt class="docutils literal"><span class="pre">ols</span></tt> command to make a scatterplot with
the trendline through it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Linear Regression with Fitted Values&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">yv</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;data&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">y_predict</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Linear regression&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">&#39;Data&#39;</span><span class="p">,</span> <span class="s">&#39;OLS&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Slides_Data_Scatter2_1.png"><img alt="_images/Slides_Data_Scatter2_1.png" src="_images/Slides_Data_Scatter2_1.png" style="width: 12cm;" /></a>
</div>
<div class="section" id="example-2-ols-with-categorical-dummy-variables">
<h4>7.4.3.2. Example 2: OLS with categorical (dummy variables)<a class="headerlink" href="#example-2-ols-with-categorical-dummy-variables" title="Permalink to this headline">¶</a></h4>
<p>The next example is a bit more involved as we increase the number of
explanatory variables. In addition, some explanatory variables are categorical
variables. In order to use them in our OLS regression we first have to make so
called <strong>dummy</strong> variables (i.e. indicator variables that are either 0 or 1).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filepath</span> <span class="o">+</span> <span class="s">&#39;Lecture_Data_Excel_b.csv&#39;</span><span class="p">)</span>

<span class="n">dummies</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;Race&#39;</span><span class="p">],</span> <span class="n">prefix</span> <span class="o">=</span> <span class="s">&#39;d&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dummies</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>   Height  Response  AverageMathSAT  Age  Female  Education  Race
d_Blk  \
0     1.1         3             370   20       0          2  Hisp
0
1     1.2         4             393   20       0          4   Wht
0
2     1.3         4             413   20       0          4   Blk
1
3     1.4         5             430   20       0          4   Wht
0
4     1.5         3             440   20       0          2   Mex
0

   d_Hisp  d_Mex  d_Oth  d_Wht
0       1      0      0      0
1       0      0      0      1
2       0      0      0      0
3       0      0      0      1
4       0      1      0      0
</pre></div>
</div>
<p>We next use <tt class="docutils literal"><span class="pre">ols</span></tt> again to run the regression. At the end we make a
prediction based on some values for the independent variables <tt class="docutils literal"><span class="pre">x1</span></tt>, <tt class="docutils literal"><span class="pre">x2</span></tt>,
etc.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">res</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">&#39;Height&#39;</span><span class="p">],</span> <span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[[</span><span class="s">&#39;Age&#39;</span><span class="p">,</span><span class="s">&#39;Education&#39;</span><span class="p">,</span><span class="s">&#39;Female&#39;</span><span class="p">,</span> \
    <span class="s">&#39;d_Blk&#39;</span><span class="p">,</span><span class="s">&#39;d_Hisp&#39;</span><span class="p">,</span><span class="s">&#39;d_Mex&#39;</span><span class="p">,</span><span class="s">&#39;d_Wht&#39;</span><span class="p">]])</span>

<span class="c"># Show coefficient estimates</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;Parameters = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">beta</span><span class="p">))</span>

<span class="c"># Prediction: size of 8.5 will produce a math score of ...</span>
<span class="n">betas</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">beta</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Prediction: &quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">betas</span> <span class="o">*</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]))))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>-------------------------Summary of Regression
Analysis-------------------------

Formula: Y ~ &lt;Age&gt; + &lt;Education&gt; + &lt;Female&gt; + &lt;d_Blk&gt; + &lt;d_Hisp&gt; +
&lt;d_Mex&gt;
             + &lt;d_Wht&gt; + &lt;intercept&gt;

Number of Observations:         60
Number of Degrees of Freedom:   8

R-squared:         0.9437
Adj R-squared:     0.9361

Rmse:              0.9030

F-stat (7, 52):   124.4348, p-value:     0.0000

Degrees of Freedom: model 7, resid 52

-----------------------Summary of Estimated
Coefficients------------------------
      Variable       Coef    Std Err     t-stat    p-value    CI 2.5%
CI 97.5%
--------------------------------------------------------------------------------
           Age     1.8944     0.1241      15.27     0.0000     1.6512
2.1375
     Education    -0.0514     0.1265      -0.41     0.6864    -0.2994
0.1967
        Female     8.7359     0.3077      28.39     0.0000     8.1327
9.3391
         d_Blk    -0.3784     0.6855      -0.55     0.5834    -1.7220
0.9653
        d_Hisp    -1.0267     0.7901      -1.30     0.1995    -2.5753
0.5218
--------------------------------------------------------------------------------
         d_Mex    -0.5749     0.6863      -0.84     0.4060    -1.9200
0.7701
         d_Wht     0.0816     0.6808       0.12     0.9050    -1.2528
1.4161
     intercept   -35.2714     2.7510     -12.82     0.0000   -40.6634
-29.8794
---------------------------------End of
Summary---------------------------------

Parameters = Age           1.894377
Education    -0.051375
Female        8.735906
d_Blk        -0.378358
d_Hisp       -1.026743
d_Mex        -0.574949
d_Wht         0.081628
intercept   -35.271435
dtype: float64

Prediction: 193.659146277
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="homework">
<h2>7.5. Homework<a class="headerlink" href="#homework" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="Lecture_Data/Homework/Homework_Data.html"><em>Homework 4</em></a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Slides_WebData.html" class="btn btn-neutral float-right" title="8. Working with data from the web"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Slides_OOP.html" class="btn btn-neutral" title="6. Object Oriented Programming"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Juergen Jung.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>